% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rELAN_extraction.R
\name{extract_annotations}
\alias{extract_annotations}
\title{Extract Annotations from an ELAN XML Document}
\usage{
extract_annotations(
  elan_xml,
  distribute_duration_among_children = FALSE,
  wide_format = FALSE
)
}
\arguments{
\item{elan_xml}{An XML document object representing the ELAN file, loaded using \code{xml2::read_xml()}.}

\item{distribute_duration_among_children}{A logical parameter indicating whether to distribute
the duration of parent annotations evenly among their child annotations. When \code{TRUE},
child annotations that reference the same parent will have their \code{DURATION} adjusted
to reflect an equal share of the parent's total duration. Defaults to \code{FALSE}.}

\item{wide_format}{A logical parameter indicating whether to transform the output to a wide format,
where each tier is represented as a separate column. Defaults to \code{FALSE}.}
}
\value{
A data frame where each row represents an annotation and includes columns for linguistic
references, annotation IDs, annotation values, time slots, and calculated durations.
If \code{distribute_duration_among_children} is \code{TRUE}, durations for child annotations
referencing the same parent are adjusted to distribute the parent's duration evenly
among them. If \code{wide_format} is \code{TRUE}, the data frame is transformed so that each tier
is represented as a separate column.
}
\description{
Parses an ELAN XML document to extract annotation details, organizing the information into a
structured data frame. Each row in the data frame represents an individual annotation. The function
handles both \code{ALIGNABLE_ANNOTATION} and \code{REF_ANNOTATION} types. It can optionally distribute
the duration of a parent annotation among its child annotations based on the \code{distribute_duration_among_children}
parameter and produce a wide-format data frame where each tier is represented as a separate column.
}
\examples{
# Load an ELAN XML file
elan_xml <- xml2::read_xml("path/to/your/elan_file.eaf")

# Extract annotations without distributing duration among children, in long format
annotations_df <- extract_annotations(elan_xml, distribute_duration_among_children = FALSE, wide_format = FALSE)

# Extract annotations and distribute duration among children, in long format
annotations_df_distributed <- extract_annotations(elan_xml, distribute_duration_among_children = TRUE, wide_format = FALSE)

# Extract annotations, distribute duration among children, and transform to wide format
annotations_df_wide <- extract_annotations(elan_xml, distribute_duration_among_children = TRUE, wide_format = TRUE)
}
